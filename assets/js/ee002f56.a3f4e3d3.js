"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[1935],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>p});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},h=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),d=l(n),g=r,p=d["".concat(c,".").concat(g)]||d[g]||u[g]||s;return n?a.createElement(p,i(i({ref:t},h),{},{components:n})):a.createElement(p,i({ref:t},h))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=g;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var l=2;l<s;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},29262:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var a=n(87462),r=(n(67294),n(3905));const s={sidebar_position:3},i="Class Diagrams",o={unversionedId:"system-architecture/class_diagrams",id:"system-architecture/class_diagrams",title:"Class Diagrams",description:"Hub Class Diagram",source:"@site/docs/system-architecture/class_diagrams.md",sourceDirName:"system-architecture",slug:"/system-architecture/class_diagrams",permalink:"/project-garden-sensor-array/docs/system-architecture/class_diagrams",draft:!1,editUrl:"https://github.com/Capstone-Projects-2023-Fall/project-garden-sensor-array/edit/main/documentation/docs/system-architecture/class_diagrams.md",tags:[],version:"current",lastUpdatedBy:"Sam GL",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Use Case Diagrams",permalink:"/project-garden-sensor-array/docs/system-architecture/sequence_diagrams"},next:{title:"Circuit Diagram",permalink:"/project-garden-sensor-array/docs/system-architecture/circuit_diagram"}},c={},l=[{value:"Hub Class Diagram",id:"hub-class-diagram",level:2},{value:"Sensor Array Class Diagram",id:"sensor-array-class-diagram",level:2},{value:"Web API Class Diagram",id:"web-api-class-diagram",level:2}],h={toc:l};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"class-diagrams"},"Class Diagrams"),(0,r.kt)("h2",{id:"hub-class-diagram"},"Hub Class Diagram"),(0,r.kt)("mermaid",{value:"classDiagram\n    Broker --\x3e Bluetooth\n    Broker --\x3e HUB_Class\n    Broker ..> cred\n    \n    Broker : +int HUB_ID\n   \n    Broker: +check_connection()\n    Broker: +get_birds()\n\n    class Bluetooth{\n      +read_bt()\n    }\n    class HUB_Class{\n      +String SensorID\n      +String AccountID\n      +Double Temperature\n      +Double Moisture\n      +Double Sunlight\n      +Timestamp Time\n      +to_fb()\n    }\n    class cred{\n      -Dict credentials\n    }"}),(0,r.kt)("p",null,"This sequence diagram describes the code package that will be run on the Garden Sensor Array's hub device. Here we have the Broker class that acts as the main class for the hub,\nand it is responsible for controlling the flow of data from the sensors to the database as well as for connecting the hub device to WiFi. It connects to WiFi by having users\nenter WiFi credentials while the device is plugged into a computer. These credentials are then written to the Raspberry Pi's config file to allow it to connect to the internet\nwirelessly. Broker also has the search_devices() function that scans nearby Bluetooth devices, determines which are unused Garden Sensors, and returns a list of them. The Sensors\nare represented by the Sensor class, which stores their id and name. The Sensor class' connect() method then uses that id to connect to its respective sensor. The listen() method will\nthen be used to recieve data from that sensor and return it as an array of integers representing temperature, moisture, and sunlight. Another class we have is Database, which stores\ncredentials that will be used by the Database class' connect() to connect the device to a given user's database table where their plant's data will be written using write_data(). "),(0,r.kt)("h2",{id:"sensor-array-class-diagram"},"Sensor Array Class Diagram"),(0,r.kt)("mermaid",{value:"classDiagram\n    SensorMain --\x3e BluetoothBLE\n    SensorMain o-- BLECharacteristic \n    SensorMain o-- AdafruitSeesaw\n    SensorMain o-- BH1750\n    SensorMain --\x3e Wire\n    \n    class SensorMain{\n        -AdafruitSeesaw soilSensor\n        -BH1750 lightSensor\n        -BLECharacteristic soilCharacteristic\n        -BLECharacteristic lightCharacteristic\n        setup() void\n        loop() void\n    }\n\n    class BluetoothBLE{\n        +begin() bool\n        +end() void\n        +advertise() bool\n        +stopAdvertise() void\n        +setEventHandler(eventType, callback) void\n    }\n\n    class BLECharacteristic{\n        +BLECharacteristic(uuid, properties, value, valueSize) BLECharacteristic\n    }\n\n    class AdafruitSeesaw{\n        +begin(address) bool\n        +getTemp() float\n        +touchRead() uint16_t\n    }\n\n    class BH1750{\n        +begin(address) bool\n        +readLightLevel() float\n    }\n\n    class Wire{\n        +begin() void\n    }"}),(0,r.kt)("p",null,"This Diagram outlines the basic architecture of the sensor units. SensorMain is the program ran by the sensor units, and it has relationships to several important classes: Adafruit_Seesaw (the soil moisture and temperature sensor), BH1750 (the ambient light sensor), BluetoothBLE (the library for finding and connecting to other Bluetooth BLE devices), and BLECharacteristic (the library for managing BLECharacteristics and how they change). Importantly, SensorMain contains objects of type Adafruit_Seesaw, for representing the soil sensor; BH1750, for representing the light sensor; and BLECharacteristic, which will track the data recorded by the sensors and send data to the hub when there is new information to report. SensorMain does not directly contain any objects of type BluetoothBLE, but it will access functions from that library to initiate the BLE connection."),(0,r.kt)("h2",{id:"web-api-class-diagram"},"Web API Class Diagram"),(0,r.kt)("mermaid",{value:"classDiagram\n\nApp o-- Login\nApp o-- Register\nLogin o-- Authenticate\nRegister o-- Authenticate\nAuthenticate o-- Navbar\nAuthenticate o-- MySensorsPage\n\nMySensorsPage o-- HubPage\nMySensorsPage o-- CardData\nMySensorsPage o-- HubPhoto\nMySensorsPage o-- IconBox1\n\nMySensorsPage o-- HubPage\nHubPage o-- ScuPage \n\n\n\nclass App { \n}\n\nclass Register {\n    +String: email\n    -Int: password\n    -Int: passwordConfirm\n    +String: displayName\n    +signUp() \n}\n\nclass Login {\n    +String: email\n    -Int: password\n    +signIn() \n}\n\nclass Authenticate {\n    +String: authUser\n    +useEffect() \n}\n\nclass Navbar {\n    +Boolean: mobileOpen\n    +logOut()\n    +handleClick()\n    +handleClose()\n}\n\nclass MySensorsPage {\n    +String: hubName\n    +String: sensorName\n    +String: userHubNames\n    +String: authUser\n    +Int: hubCardAmount\n    +handleAddHubCard()\n    +AddingHub()\n    +AddingSensor()\n    +handleClickCard()\n    +FetchHubs()\n    +LoadCards() \n  \n}\n\n\nclass CardData {\n    +String: currentHub\n    +Int: sun\n    +Int: moi\n    +Int: temp\n    +FetchData()\n    +TempLogic()\n    +SunlightLogic()\n    +MositureLogic()\n    +moi_data()\n    +sun_data()\n    +temp_data() \n}\n\n\nclass IconBox1 {\n    +String: currentHub\n    +Int: sun\n    +Int: moi\n    +Int: temp\n    +String: readMoistureIcon\n    +String: readTempIcon\n    +String: readSunlightIcon\n    +FetchData() \n}\n\n\nclass HubPhoto {\n    +String: url\n    +fetchImageUrl() \n}\n\n\nclass HubPage {\n    +String: currentHub\n    +String: authUser\n    +Int: sensCardAmount\n    +Int: time\n    +today()\n    +week()\n    +month()\n    +year()\n    +FetchSens()\n    +handleClickCard()\n    +LoadCards()\n\n} \n\nclass ScuPage {\n    +String: authUser\n    +String: hubSens\n    +Int: sun\n    +Int: moi\n    +Int: temp\n    +String: readMoistureIcon\n    +String: readTempIcon\n    +String: readSunlightIcon\n    +FetchData()\n    +TempLogic()\n    +SunlightLogic()\n    +MoistureLogic()\n    +moi_data()\n    +sun_data()\n    +temp_data()\n\n}\n\n"}),(0,r.kt)("p",null,'Pictured above is the UML Class Diagram for the frontend portion of the website. These are all the components that the user will directly view and interact with. The diagram is component focused as the website itself is written using React.js - which is component based. The first component at the very top is "App.js". This file is what holds all the components of the entire website, it is necessary in all react applications. This is the reason why the components underneath all eventually flow towards App.js - as it all the components are stated there. Once the user is officially logged in or registered they will be directed to the fundamental part of the website. It then leads to Authenticate, which gives the rest of the components the correct user to fetch and write data to. The next component titled My Hubs Page (refered to as My SensorsPage in the code) will cover the most important feature of the website. This page will showcase at the users\'s hub cards - each of which use the components: CardData, HubPhoto, and IconBox1. Each hub linked to thier account will have their own card. When any hubcard is clicked it brings the user to that specific HubPage. The HubPage acts as a portal and displays all the sensors registered to that hub, all of their sensor cards being clickable as well. The specific sensor page shows the last updated statistics that were recorded. A section with 3 dynamic icons that represent the status of the sensors moisture, temperature, and sunlight levels will be present at the top right. It gives a visual representation of the data progression as well by showcasing 3 line graphs - one for each category. The navigation bar and the footer stay the same no matter what, but the main component is what will change. When viewing this class diagram the relationships between the components are visible, and they all use aggregation. This is because without the parent the child is non- existent. For example, you can only get to a specific sensor\'s data table by accessing the "My Sensors Page" first, otherwise it is inaccessible/ unattainable.'))}d.isMDXComponent=!0}}]);